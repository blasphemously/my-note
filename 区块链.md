## 比特币中的密码学原理
1. 哈希 cryptographic 哈希碰撞 两个不同输入, 算出来的值相等

2. 比特币用的hash算法 SHA-256

3. hash 要满足三个条件
```
不可逆
不可预测
Puzzle Friendly 
//要想使得计算得到的hash值在某一个范围之内，
//则只能够一个一个的输入去尝试，很难直接找到某个值使得其hash值在某一个范围内。
//挖矿 也是就是这个意思。挖矿就是把区块中的一些信息+随机数进行hash，使得其结果前K位数为0，
//才能够满足要求。挖矿无捷径，只能够去大量的试。所以也就产生了 工作量证明（POW）。
// 无法通过hash去猜测范围
```

### hash指针

hash区块链表 (使用hash指针)

后面一个区块指针取的是前面所有区块hash指针加在一起算出来的, 只需要记住最后一个区块指针, 就可以保证知道整个区块链没有被改动

### Merkle Tree

只要记住根hash指针, 就能检测出树中所有修改
![[image 8.png]]
轻节点从下往上通过hash验证,

### 如何查出是否有该区块链交易

给所有交易通过hash排序, 通过该hash查出该hash左右的hash值, 再向上计算hash值, 如果正确, 说明该区块不在这个区块链中, 时间复杂度 log(On)

sorted Merkle Tree

只要数据结构无环, 都可以用hash指针代替普通指针

### 比特币协议

#### 去中心化

区块链, 每个区块包含 两种hash指针, 一种区块的地址hash, 一种交易明细hash,包含输入输出, 私钥签名 ,

输入部分, 币的来源, 转账账户的公钥, 输出部分: 收款人的公钥hash, 当前交易的输入的公钥hash要和前者输出的hash对应jmb
